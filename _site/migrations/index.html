<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Engineer â€“ Migrations</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/app.css">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
  <div class="container">

    <a class="navbar-brand" href="/">Engineer</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">

      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="/get-started/">Get Started</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/commands/">Commands</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="/migrations/">Migrations</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/support/">Support</a>
        </li>
      </ul>

      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link gh-link" href="https://github.com/oldrivercreative/engineer" aria-label="GitHub">
            <svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 499.36" focusable="false"><title>GitHub</title><path d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z" fill="currentColor" fill-rule="evenodd"></path></svg>
          </a>
        </li>
      </ul>
    </div>

  </div>
</nav>


<div class="container mt-5 mb-5">
  <h1>Migrations</h1>

<hr>

<h2 class="h3">API</h2>
<ul>
  
    <li><a href="/migrations/content-type">ContentType</a></li>
  
    <li><a href="/migrations/content-types">ContentTypes</a></li>
  
    <li><a href="/migrations/field-links">FieldLinks</a></li>
  
    <li><a href="/migrations/field">Field</a></li>
  
    <li><a href="/migrations/fields">Fields</a></li>
  
    <li><a href="/migrations/list">List</a></li>
  
    <li><a href="/migrations/lists">Lists</a></li>
  
    <li><a href="/migrations/view-fields">ViewFields</a></li>
  
    <li><a href="/migrations/view">View</a></li>
  
    <li><a href="/migrations/views">Views</a></li>
  
    <li><a href="/migrations/web">Web</a></li>
  
    <li><a href="/migrations/webs">Webs</a></li>
  
</ul>

<hr>

<h2 class="h3">About Migrations</h2>
<p>Engineer uses <strong>migrations</strong> to track configuration changes made to SharePoint. You can use migrations to create a queue of tasks that are executed in order on any number of target environments. Think of migrations like source control for your configuration operations.</p>

<p>Use the <code><a href="/commands/make">make</a></code> command to create new migration files. Once created, you can use Engineer&rsquo;s migration API to create fields, content types, lists, views, and more.</p>

<hr>

<h2 class="h3">Using the Migration API</h2>
<p>Migration files consist of an <code>up</code> and <code>down</code> method. Code in the <code>up</code> method will be executed during <code><a href="/commands/migrate">migrate</a></code> operations. Code in the <code>down</code> method will be executed during <code><a href="/commands/rollback">rollback</a></code> operations. This allows you to define a queue of tasks that are executed during both deployment and retraction of each migration.</p>

<p>Each of these methods passes a single parameter called <code>engineer</code> through to your migration logic. You can use this <code>engineer</code> object to access the migration API.</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">up</span><span class="p">(</span><span class="nx">engineer</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Use the Lists API to add a new list</span>
  <span class="nx">engineer</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">'My List'</span><span class="p">);</span>

  <span class="c1">// Use the Fields API to add a new field</span>
  <span class="nx">engineer</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">'My New Field'</span><span class="p">);</span>

  <span class="c1">// Use the List and Fields API to add a new field to a list</span>
  <span class="nx">engineer</span><span class="p">.</span><span class="nx">web</span><span class="p">.</span><span class="nx">lists</span><span class="p">.</span><span class="nx">getByTitle</span><span class="p">(</span><span class="s1">'My List'</span><span class="p">).</span><span class="nx">fields</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">'My New Field 2'</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>The same API is accessed in both the <code>up</code> and <code>down</code> methods. There are a variety of API endpoints, options, and configurations you can use to do just about anything within your SharePoint environments. Refer to the individual API documentation for more information on how to use each endpoint.</p>

</div>


  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
</body>
</html>

